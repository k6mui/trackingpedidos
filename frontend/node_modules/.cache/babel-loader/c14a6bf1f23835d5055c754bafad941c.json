{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jorge\\\\codigo\\\\ISST\\\\trackingpedidos\\\\frontend\\\\src\\\\Actualizar.js\",\n    _s = $RefreshSig$();\n\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useRef } from 'react';\nimport './css/Actualizar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Actualizar(props) {\n  _s();\n\n  // Variable que tiene la localización donde nos encontramos, se utiliza principalmente para saber nuestra ruta actual.\n  let location = useLocation(); // Hook utilizado para enlazar el input type file oculto al div.\n\n  const fileInput = useRef(null); // Funcion utilizada para determinar si se ha introducido un archivo. Si es asi, se introducen los datos en el estado pertinente.\n\n  function handleFileChange(event) {\n    const file = event.target.files[0];\n\n    if (!file) {\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.readAsText(file);\n\n    reader.onload = () => {\n      const content = reader.result;\n      const jsonData = JSON.parse(content);\n      props.setJsonData(jsonData);\n      props.setSubido(true);\n    };\n  } // Funcion utilizada para detectar el clic en el div como si fuera el input type file. \n\n\n  const handleClick = event => {\n    event.preventDefault();\n    fileInput.current.click();\n    props.setSubido(false);\n  }; // Funcion utilizada para detectar el arrastre del archivo en el div como si fuera el input type file. \n\n\n  const handleDragOver = event => {\n    event.preventDefault();\n    props.setSubido(false);\n  }; // Funcion utilizada para detectar el soltar el archivo en el div como si fuera el input type file. \n\n\n  const handleDrop = event => {\n    event.preventDefault();\n    const file = event.dataTransfer.files[0];\n    const reader = new FileReader();\n    reader.readAsText(file);\n\n    reader.onload = () => {\n      const content = reader.result;\n      const jsonData = JSON.parse(content);\n      props.setJsonData(jsonData);\n    };\n  }; // Hook utilizado para realizar una peticion POST mediante la funcion enviarDatos cuando se modifique el estado jsonData.\n\n\n  useEffect(() => {\n    if (props.jsonData) {\n      props.jsonData.map(json => {\n        props.enviarDatos(location.pathname, json);\n        return null;\n      });\n    }\n\n    props.setJsonData(null); // eslint-disable-next-line react-hooks/exhaustive-deps \n  }, [props.jsonData]); // Renderizado de la página.\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"actualizar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"autorrellenar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Introduzca el pedido que desea a\\xF1adir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"ID del pedido\",\n          value: props.datos.pedido,\n          onChange: e => props.setDatos({ ...props.datos,\n            pedido: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nombre del producto\",\n          value: props.datos.producto,\n          onChange: e => props.setDatos({ ...props.datos,\n            producto: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Descripcion del producto\",\n          value: props.datos.descripcion,\n          onChange: e => props.setDatos({ ...props.datos,\n            descripcion: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Cliente\",\n          value: props.datos.cliente,\n          onChange: e => props.setDatos({ ...props.datos,\n            cliente: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Matr\\xEDcula del transporte\",\n          value: props.datos.transportista,\n          onChange: e => props.setDatos({ ...props.datos,\n            transportista: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            props.enviarDatos(location.pathname, props.datos);\n            props.setDatos({\n              pedido: \"\",\n              producto: \"\",\n              descripcion: \"\",\n              cliente: \"\",\n              transportista: \"\"\n            });\n            return 0;\n          },\n          children: \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drag\",\n      onMouseDown: handleClick,\n      onDragOver: handleDragOver,\n      onDrop: handleDrop,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"seleccionar\",\n        children: \"Seleccione el archivo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-cloud-arrow-up-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".json\",\n        ref: fileInput,\n        onChange: handleFileChange,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), props.subido && /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"subido\",\n        children: \" Archivo subido con exito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Actualizar, \"JOkW4C+80B0PLZN0qkiymMeWNT0=\", false, function () {\n  return [useLocation];\n});\n\n_c = Actualizar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actualizar\");","map":{"version":3,"names":["useLocation","useEffect","useRef","Actualizar","props","location","fileInput","handleFileChange","event","file","target","files","reader","FileReader","readAsText","onload","content","result","jsonData","JSON","parse","setJsonData","setSubido","handleClick","preventDefault","current","click","handleDragOver","handleDrop","dataTransfer","map","json","enviarDatos","pathname","datos","pedido","e","setDatos","value","producto","descripcion","cliente","transportista","subido"],"sources":["C:/Users/jorge/codigo/ISST/trackingpedidos/frontend/src/Actualizar.js"],"sourcesContent":["import { useLocation } from 'react-router-dom';\r\nimport { useEffect, useRef } from 'react';\r\n\r\nimport './css/Actualizar.css';\r\n\r\nexport default function Actualizar(props) {\r\n  // Variable que tiene la localización donde nos encontramos, se utiliza principalmente para saber nuestra ruta actual.\r\n  let location = useLocation();\r\n\r\n  // Hook utilizado para enlazar el input type file oculto al div.\r\n  const fileInput = useRef(null);\r\n\r\n  // Funcion utilizada para determinar si se ha introducido un archivo. Si es asi, se introducen los datos en el estado pertinente.\r\n  function handleFileChange(event) {\r\n    const file = event.target.files[0];\r\n    if (!file) {\r\n      return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.readAsText(file);\r\n    reader.onload = () => {\r\n      const content = reader.result;\r\n      const jsonData = JSON.parse(content);\r\n      props.setJsonData(jsonData);\r\n      props.setSubido(true);\r\n    };\r\n  }\r\n\r\n  // Funcion utilizada para detectar el clic en el div como si fuera el input type file. \r\n  const handleClick = (event) => {\r\n    event.preventDefault();\r\n    fileInput.current.click();\r\n    props.setSubido(false);\r\n  };\r\n\r\n  // Funcion utilizada para detectar el arrastre del archivo en el div como si fuera el input type file. \r\n  const handleDragOver = (event) => {\r\n    event.preventDefault();\r\n    props.setSubido(false);\r\n  };\r\n\r\n  // Funcion utilizada para detectar el soltar el archivo en el div como si fuera el input type file. \r\n  const handleDrop = (event) => {\r\n    event.preventDefault();\r\n    const file = event.dataTransfer.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsText(file);\r\n    reader.onload = () => {\r\n      const content = reader.result;\r\n      const jsonData = JSON.parse(content);\r\n      props.setJsonData(jsonData);\r\n    };\r\n  };\r\n\r\n  // Hook utilizado para realizar una peticion POST mediante la funcion enviarDatos cuando se modifique el estado jsonData.\r\n  useEffect(() => {\r\n    if (props.jsonData) {\r\n      props.jsonData.map(json => {\r\n        props.enviarDatos(location.pathname, json)\r\n        return null;\r\n        } );\r\n    }\r\n    props.setJsonData(null);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps \r\n  }, [props.jsonData]);\r\n\r\n  // Renderizado de la página.\r\n  return <div id=\"actualizar\">\r\n    <div className=\"autorrellenar\">\r\n      <h1>Introduzca el pedido que desea añadir</h1>\r\n        <form>\r\n          <input type=\"text\" placeholder=\"ID del pedido\" value={props.datos.pedido} onChange={e => props.setDatos({ ...props.datos, pedido: e.target.value })} />\r\n          <input type=\"text\" placeholder=\"Nombre del producto\" value={props.datos.producto} onChange={e => props.setDatos({ ...props.datos, producto: e.target.value })} />\r\n          <input type=\"text\" placeholder=\"Descripcion del producto\" value={props.datos.descripcion} onChange={e => props.setDatos({ ...props.datos, descripcion: e.target.value })} />\r\n          <input type=\"text\" placeholder=\"Cliente\" value={props.datos.cliente} onChange={e => props.setDatos({ ...props.datos, cliente: e.target.value })} />\r\n          <input type=\"text\" placeholder=\"Matrícula del transporte\" value={props.datos.transportista} onChange={e => props.setDatos({ ...props.datos, transportista: e.target.value })} />\r\n\r\n          <button type=\"button\" onClick={() => {\r\n            props.enviarDatos(location.pathname, props.datos);\r\n            props.setDatos({ pedido: \"\", producto: \"\", descripcion: \"\", cliente:\"\", transportista:\"\"});\r\n            return 0;\r\n          }}>Enviar</button>\r\n\r\n        </form>\r\n    </div>\r\n    <div className=\"drag\" onMouseDown={handleClick} onDragOver={handleDragOver} onDrop={handleDrop}>\r\n      <h1 className='seleccionar'>Seleccione el archivo:</h1>\r\n      < i className=\"bi bi-cloud-arrow-up-fill\" />\r\n      <input type=\"file\" accept=\".json\" ref={fileInput} onChange={handleFileChange} hidden />\r\n      {props.subido && <h1 className='subido'> Archivo subido con exito</h1>}\r\n    </div>\r\n</div>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}